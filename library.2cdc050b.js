!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequire723b;function r(e){return e.map((function(e){for(var t="",n=0;n<e.genres.length;n++)n<e.genres.length-1?t+=e.genres[n].name+", ":t+=e.genres[n].name;return'<li class="movie">\n          <div class="movie__box">\n            <img class="movie__img" id=\''.concat(e.id,"'\n              src=\"https://image.tmdb.org/t/p/w500").concat(e.img,'"\n              alt="').concat(e.title,'"\n            />\n          </div>\n          <div class="movie__desc">\n            <h3 class="movie__title">').concat(e.title,'</h3>\n            <p class="movie__genre">').concat(t," | ").concat(e.date.slice(0,4),"</p>\n          </div>\n        </li>")})).join("")}null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequire723b=a);var l=a("bpxeT"),c=a("2TvXO");function i(e){for(var t="",n=0;n<e.genres.length;n++)n<e.genres.length-1?t+=e.genres[n].name+", ":t+=e.genres[n].name;return'\n    <img class="modal__img" src="https://image.tmdb.org/t/p/w500'.concat(e.poster_path,'" alt="').concat(e.title,'" />\n    <div class="modal__box">\n      <p class="modal__title">').concat(e.title,'</p>\n      <table class="modal__info">\n        <tbody>\n          <tr>\n            <td class="modal__item one">Vote / Votes</td>\n            <td class="votes one"><span class="vote">').concat(e.vote_average,"</span> / ").concat(e.vote_count,'</td>\n          </tr>\n          <tr>\n            <td class="modal__item center">Popularity</td>\n            <td class="popularity center">').concat(e.popularity,'</td>\n          </tr>\n          <tr>\n            <td class="modal__item center">Original Title</td>\n            <td class="original center">').concat(e.original_title,'</td>\n          </tr>\n          <tr>\n            <td class="modal__item">Genre</td>\n            <td class="genre">').concat(t,'</td>\n          </tr>\n        </tbody>\n      </table>\n      <p class="modal__about">About</p>\n      <p class="modal__description">').concat(e.overview,'</p>\n      <div class="modal__boxBtn">\n        <button class="modal__btn" type="button" data-delete>delete</button>\n      </div>\n    </div>')}var d=a("kvuk2"),s=a("8irT4"),u=document.querySelector("#library");function m(e,t){return v.apply(this,arguments)}function v(){return(v=e(l)(e(c).mark((function t(n,o){var a,l,m,v,p;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v=function(){a.backdrop.classList.add("is-hidden")},p=function(){if(0===o){var e=s.default.load("watched").filter((function(e){return l.id!==e.id}));s.default.save("watched",e),u.innerHTML=r(e)}if(1===o){var t=s.default.load("queue").filter((function(e){return l.id!==e.id}));s.default.save("queue",t),u.innerHTML=r(t)}v()},a={closeModalBtn:document.querySelector("[data-modal-close]"),backdrop:document.querySelector("[data-modal]"),modal:document.querySelector(".modal")},e.prev=3,e.next=6,(0,d.moviePageApi)(n);case 6:l=e.sent,console.log(l),a.backdrop.classList.remove("is-hidden"),a.modal.innerHTML=i(l),m=document.querySelector("[data-delete]"),a.closeModalBtn.addEventListener("click",v),m.addEventListener("click",p),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.log(e.t0);case 20:case"end":return e.stop()}}),t,null,[[3,17]])})))).apply(this,arguments)}s=a("8irT4");var p,f=document.querySelector("[data-watched]"),_=document.querySelector("[data-queue]"),g=document.querySelector("#library");f.addEventListener("click",(function e(){p=0;var t=s.default.load("watched")||[];if(console.log("hello"),0===t.length)return g.innerHTML="",void f.removeEventListener("click",e);g.innerHTML=r(t)})),_.addEventListener("click",(function e(){p=1;var t=s.default.load("queue")||[];if(console.log("goodbay"),0===t.length)return g.innerHTML="",void _.removeEventListener("click",e);g.innerHTML=r(t)})),g.addEventListener("click",(function(e){return m(e.target.id,p)}))}();
//# sourceMappingURL=library.2cdc050b.js.map
